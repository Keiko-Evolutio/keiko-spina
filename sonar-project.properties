# SonarQube Configuration for Keiko Backend
# ==========================================

# Project identification
sonar.projectKey=Keiko-Development_keiko-backbone
sonar.organization=keiko-development
sonar.projectName=Keiko Personal Assistant Backend
sonar.projectVersion=1.0.0
sonar.projectDescription=Enterprise-grade Personal Assistant Backend with Advanced Observability

# Source configuration
sonar.sources=.
sonar.sourceEncoding=UTF-8
sonar.language=py

# Include patterns for analysis
sonar.inclusions=**/*.py

# Exclude patterns
sonar.exclusions=**/venv/**,**/__pycache__/**,**/node_modules/**,**/dist/**,**/build/**,**/.pytest_cache/**,**/.mypy_cache/**,**/.ruff_cache/**,**/htmlcov/**,**/mypy-report/**,**/site-packages/**,**/migrations/**,**/alembic/versions/**

# Test configuration
sonar.tests=tests
sonar.test.inclusions=tests/**/*.py,**/*test*.py
sonar.test.exclusions=**/conftest.py

# Python specific settings
sonar.python.version=3.11,3.12

# Coverage reports
sonar.python.coverage.reportPaths=coverage.xml
sonar.python.xunit.reportPath=pytest-junit.xml

# External reports integration
sonar.python.bandit.reportPaths=bandit-report.json
sonar.python.mypy.reportPaths=mypy-report.json

# Quality profiles and rules
sonar.qualitygate.wait=true

# Code duplication
sonar.cpd.python.minimumtokens=50

# Metrics and thresholds
sonar.coverage.exclusions=tests/**,**/conftest.py,**/test_*.py,**/*_test.py,scripts/**,examples/**

# Security settings
sonar.security.hotspots.inheritFromParent=true

# Project organization
sonar.projectBaseDir=.

# SCM settings (auto-detected)
sonar.scm.provider=git

# Language-specific exclusions
# Exclude generated and configuration files from analysis
sonar.exclusions=**/migrations/**,**/alembic/**,**/__init__.py,**/settings.py,**/config.py,**/constants.py,**/pb2.py,**/pb2_grpc.py,docker-compose*.yml,Dockerfile*,*.md,*.txt,*.json,*.yaml,*.yml,*.toml,*.cfg,*.ini

# Additional Python excludes for enterprise code
sonar.exclusions=**/vendor/**,**/third_party/**,**/external/**,**/lib/**,**/.venv/**,**/.env/**

# Include only main source directories
sonar.sources=agents,api,app,auth,config,core,data_models,kei_logging,messaging,middleware,monitoring,observability,policy_engine,quotas_limits,security,services,storage,task_management,utils,voice,voice_performance,voice_rate_limiting,audit_system,specs

# Language detection
sonar.lang.patterns.python=**/*.py

# Project metadata
sonar.links.homepage=https://github.com/Keiko-Development/keiko-backbone
sonar.links.scm=https://github.com/Keiko-Development/keiko-backbone
sonar.links.issue=https://github.com/Keiko-Development/keiko-backbone/issues

# Branch analysis (requires Developer Edition)
# sonar.branch.name=main

# Analysis scope
sonar.verbose=false
